running = True

def decode():
  global running
  result = ""
  shift = int(input("Enter the key to shift the text back (0-26): "))
  if shift < 0:
    shift = (shift % 26)
  else:
    shift = shift % 26
  usertxt = input("Enter the text to decode: ")
  for letters in usertxt:
    cnr = ord(letters.upper())
    if cnr == 32:
      result += chr(cnr)
    elif cnr-shift <= 65:
      cnr += 25
      result += chr(cnr-shift)
    else:
      result += chr(cnr-shift)
  print()
  print(result)
  print()
  hello()

def encode():
  global running
  result = ""
  shift = int(input("Enter the number to shift the text (0-26): "))
  if shift < 0:
    shift = (shift % 26)
  else:
    shift = shift % 26
  usertxt = input("Enter the text to encode: ")
  for letters in usertxt:
    cnr = ord(letters.upper())
    if cnr == 32:
      result += chr(cnr)
    elif cnr+shift >= 90:
      cnr -= 25
      result += chr(cnr+shift)
    else:
      result += chr(cnr+shift)
  print()
  print(result)
  print()
  hello()

def hello():
  global running
  print("Hello what do you want to do?")
  choice = input("Type 'encode' to create a secret text,\n'decode' to retrieve the original or\n'quit' to stop the program.\n")
  print()
  if choice == "encode":
    encode()
  elif choice == "decode":
    decode()
  elif choice == "quit":
    running = False

while running:
  hello()
